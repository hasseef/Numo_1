<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù…Ù†ØµØ© Ù†Ù…Ùˆ NOMU</title>
  <meta name="description" content="Ù…Ù†ØµØ© Ù†Ù…Ùˆ NOMU Ù„ØªÙ…ÙƒÙŠÙ† Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„ØªÙ†Ù…ÙˆÙŠ ÙˆØ§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠ ÙˆÙÙ‚ Ø±Ø¤ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© 2030" />
  <style>
    :root{
      --bg:#0c0a12;
      --card:#12101a;
      --muted:#1a1724;
      --primary:#8b5cf6;      /* Ø¨Ù†ÙØ³Ø¬ÙŠ Ù†Ù…Ùˆ */
      --primary-weak:#7c3aed;
      --text:#f6f6fb;
      --text-dim:#c7c6d4;
      --accent:#22d3ee;       /* Ø³Ù…Ø§ÙˆÙŠ Ø¥Ø¨Ø±Ø§Ø² */
      --danger:#ef4444;
      --ok:#22c55e;
      --chip:#0f0d16;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Kufi Arabic", "Noto Sans Arabic", "Helvetica Neue", Arial;
      background:radial-gradient(1100px 600px at 80% -10%, rgba(139,92,246,.18), transparent 60%), linear-gradient(140deg,#0c0a12 0%, #0e0b19 60%, #0c0a12 100%);
      color:var(--text);
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:1200px; margin-inline:auto; padding:16px}
    header{position:sticky; top:0; z-index:50; backdrop-filter:saturate(180%) blur(10px); background:rgba(12,10,18,.75); border-bottom:1px solid rgba(255,255,255,.05)}
    .bar{display:flex; align-items:center; gap:16px; padding:12px 0}
    .logo{display:flex; align-items:center; gap:10px; padding:8px 12px; border-radius:999px; background:var(--chip); border:1px solid rgba(255,255,255,.06)}
    .logo svg{width:28px; height:28px}
    .brand{display:flex; flex-direction:column; line-height:1.1}
    .brand b{font-weight:800}
    .brand small{color:var(--text-dim)}
    nav{margin-inline-start:auto; display:flex; gap:8px; flex-wrap:wrap}
    .tab{padding:10px 14px; border-radius:12px; background:transparent; border:1px solid rgba(255,255,255,.08); cursor:pointer; transition:.2s}
    .tab.active,.tab:hover{background:var(--muted); border-color:rgba(255,255,255,.18)}
    .primary-btn{padding:10px 16px; border-radius:12px; background:var(--primary); color:#0b0716; font-weight:800; border:none; cursor:pointer; transition:.2s}
    .primary-btn:hover{filter:brightness(1.05)}
    main{padding:24px 0}
    .grid{display:grid; gap:16px}
    @media(min-width:720px){ .grid.cols-3{grid-template-columns:repeat(3,1fr)} .grid.cols-2{grid-template-columns:repeat(2,1fr)} .grid.cols-4{grid-template-columns:repeat(4,1fr)} }
    .card{background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:var(--radius); box-shadow:var(--shadow); padding:16px}
    .card h3{margin:0 0 8px 0}
    .chip{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background:var(--chip); border:1px solid rgba(255,255,255,.08); font-size:12px; color:var(--text-dim)}
    .h{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px}
    .muted{color:var(--text-dim)}
    .row{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
    .kpi{background:linear-gradient(180deg,rgba(139,92,246,.12),rgba(139,92,246,.04)); border:1px solid rgba(139,92,246,.3); border-radius:14px; padding:12px; text-align:center}
    .kpi b{font-size:22px}
    .pill{padding:6px 10px; border-radius:12px; background:rgba(255,255,255,.06)}
    .divider{height:1px; background:rgba(255,255,255,.06); margin:12px 0}
    .note{background:#0e0c17; border:1px dashed rgba(255,255,255,.15); padding:12px; border-radius:12px; color:var(--text-dim)}
    .badge{background:rgba(34,211,238,.15); border:1px solid rgba(34,211,238,.35); color:#baf6ff; padding:4px 8px; border-radius:10px; font-size:12px}
    .vis2030{display:flex; gap:8px; flex-wrap:wrap}
    .vis2030 .goal{padding:6px 10px; border-radius:12px; border:1px solid rgba(255,255,255,.08); background:rgba(255,255,255,.03); font-size:12px}
    /* Tabs */
    .tabs{display:flex; gap:8px; border-bottom:1px solid rgba(255,255,255,.06); margin-bottom:12px; flex-wrap:wrap}
    .tabs .t{padding:10px 12px; border-radius:12px 12px 0 0; background:rgba(255,255,255,.02); border:1px solid rgba(255,255,255,.08); border-bottom:none; cursor:pointer}
    .tabs .t.active{background:var(--muted); font-weight:700}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    /* Accordion */
    .acc{border:1px solid rgba(255,255,255,.08); border-radius:14px; overflow:hidden}
    .acc .acc-h{padding:12px; background:rgba(255,255,255,.03); cursor:pointer; display:flex; align-items:center; justify-content:space-between; gap:12px}
    .acc .acc-c{display:none; padding:12px; background:rgba(255,255,255,.02); border-top:1px solid rgba(255,255,255,.06)}
    .acc.open .acc-c{display:block}
    /* Inputs */
    .input, select{width:100%; padding:10px 12px; border-radius:12px; background:#0f0d18; border:1px solid rgba(255,255,255,.1); color:var(--text)}
    .input::placeholder{color:#777089}
    footer{margin-top:24px; padding:24px 0; color:var(--text-dim)}
    .sr-only{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <header>
    <div class="wrap bar">
      <!-- Ø´Ø¹Ø§Ø± NOMU -->
      <a href="#/home" class="logo" aria-label="Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
        <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img">
          <defs>
            <linearGradient id="g" x1="0" y1="0" x2="64" y2="64">
              <stop stop-color="#8b5cf6"/><stop offset="1" stop-color="#22d3ee"/>
            </linearGradient>
          </defs>
        <rect x="6" y="6" width="52" height="52" rx="14" fill="url(#g)"/>
        <path d="M18 38c4 0 6-10 12-10s8 10 14 10 8-6 8-10" fill="none" stroke="#0c0a12" stroke-width="4" stroke-linecap="round"/>
        </svg>
        <div class="brand">
          <b>Ù…Ù†ØµØ© Ù†Ù…Ùˆ NOMU</b>
          <small>Ø­Ù„ Ù…ØªÙƒØ§Ù…Ù„ Ù„Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„ØªÙ†Ù…ÙˆÙŠ</small>
        </div>
      </a>

      <nav>
        <a class="tab" data-link="#/home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        <a class="tab" data-link="#/journey">Ø§Ù„Ø±Ø­Ù„Ø©</a>
        <a class="tab" data-link="#/accounts">Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</a>
        <a class="tab" data-link="#/directory">Ø§Ù„Ø¯Ù„ÙŠÙ„</a>
        <a class="tab" data-link="#/about">Ø¹Ù† Ù†Ù…Ùˆ</a>
      </nav>

      <button class="primary-btn" onclick="location.hash='#/start'">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
    </div>
  </header>

  <main class="wrap">
    <div id="app"></div>
  </main>

  <footer class="wrap">
    <div class="row">
      <span class="badge">Ù†Ø³Ø®Ø© Ø¹Ø±Ø¶ ØªØ´ØºÙŠÙ„ÙŠØ© NOMU</span>
      <span class="pill">Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ GitHub Pages</span>
      <span class="pill">Ø¨Ø¯ÙˆÙ† Ù…ÙƒØªØ¨Ø§Øª Ø®Ø§Ø±Ø¬ÙŠØ©</span>
    </div>
    <div class="divider"></div>
    <p>Â© <span id="year"></span> Ù…Ù†ØµØ© Ù†Ù…Ùˆ NOMU. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
  </footer>

  <script>
    /* ===== Ø¨ÙŠØ§Ù†Ø§Øª NOMU ===== */
    const DATA = {
      kpis:{ beneficiaries: 400, programs: 6, goals: 27, subgoals: 96 },
      vision2030: [
        "ØªØ¹Ø²ÙŠØ² ÙØ§Ø¹Ù„ÙŠØ© Ø§Ù„Ø­ÙƒÙˆÙ…Ø©","ØªÙ†Ù…ÙŠØ© ÙˆØªÙ†ÙˆÙŠØ¹ Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯","ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©",
        "ØªØ¹Ø²ÙŠØ² Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ©","ØªÙ…ÙƒÙŠÙ† Ø­ÙŠØ§Ø© Ø¹Ø§Ù…Ø±Ø© ÙˆØµØ­ÙŠØ©"
      ],
      accounts:[
        {
          id:"individual", name:"Ø§Ù„Ø£ÙØ±Ø§Ø¯", emoji:"ğŸ‘¤",
          tagline:"Ù…Ø¨Ø§Ø¯Ø±Ø§ØªØŒ ÙØ±Øµ Ø¹Ù…Ù„ ÙˆØªØ¯Ø±ÙŠØ¨ ÙˆØªØ·ÙˆØ¹ØŒ Ø£Ø­Ø¯Ø§Ø«ØŒ ÙˆÙ…Ø­ÙØ¸Ø©.",
          value:["Ø¥Ø¯Ø±Ø§Ø¬ Ù…Ø¨Ø§Ø¯Ø±Ø© (Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù„Ø¨Ù†Ø§Øª Ø§Ù„ØªØ³Ø¹Ø©)","Ù…Ø·Ø§Ø¨Ù‚Ø© ÙØ±Øµ Ø­Ø³Ø¨ Ù…Ù„ÙÙŠ","ØªØ°Ø§ÙƒØ± ÙˆØ´Ù‡Ø§Ø¯Ø§Øª Ø­Ø¶ÙˆØ±"],
          services:[
            {title:"Ù…Ø¨Ø§Ø¯Ø±Ø§ØªÙŠ", items:[{title:"Ù„Ø¨Ù†Ø§Øª ØªØ³Ø¹"},{title:"ØªØªØ¨Ø¹ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ ÙˆØ§Ù„ØªÙ…ÙˆÙŠÙ„"}]},
            {title:"Ø§Ù„ÙØ±Øµ", items:[{title:"ÙˆØ¸Ø§Ø¦Ù"},{title:"ØªØ¯Ø±ÙŠØ¨ ØªØ¹Ø§ÙˆÙ†ÙŠ"},{title:"ØªØ·ÙˆØ¹"},{title:"Ù…ØªØ­Ø¯Ø«/Ù…Ø¯Ø±Ø¨"}]},
            {title:"Ø§Ù„Ø£Ø­Ø¯Ø§Ø«", items:[{title:"Ù…Ù†ØªØ¯ÙŠØ§Øª/ÙˆØ±Ø´"},{title:"ØªØ°Ø§ÙƒØ± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©"}]},
            {title:"Ø§Ù„Ù…Ø­ÙØ¸Ø©", items:[{title:"ØªØ¨Ø±Ø¹Ø§Øª ÙˆØ§Ø´ØªØ±Ø§ÙƒØ§Øª"}]}
          ]
        },
        {
          id:"private", name:"Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø®Ø§Øµ", emoji:"ğŸ¢",
          tagline:"Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©ØŒ Ø±Ø¹Ø§ÙŠØ§ØªØŒ Ù…Ø±Ø§ÙÙ‚ ÙˆØ£Ø­Ø¯Ø§Ø«ØŒ Ø­Ù„ÙˆÙ„.",
          value:["Ø¹Ø±Ø¶ ÙØ±Øµ Ø±Ø¹Ø§ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ±","ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø«Ø± ÙˆØ´ÙØ§ÙÙŠØ©","Ø·Ù„Ø¨/ØªÙ†Ø¸ÙŠÙ… ÙØ¹Ø§Ù„ÙŠØ§Øª"],
          services:[
            {title:"Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©", items:[{title:"ÙØ±Øµ Ø±Ø¹Ø§ÙŠØ©/Ù…Ù†Ø­"},{title:"ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø«Ø±"}]},
            {title:"Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚", items:[{title:"Ø·Ù„Ø¨ Ø­Ø¯Ø«"},{title:"Ø­Ø¬Ø² Ù…Ø±Ø§ÙÙ‚"}]},
            {title:"Ø­Ù„ÙˆÙ„", items:[{title:"Ø§Ù‚ØªØ±Ø§Ø­ Ø­Ù„ÙˆÙ„ Ù„Ø§Ø­ØªÙŠØ§Ø¬ Ø¬Ù‡Ø§Øª"}]}
          ]
        },
        {
          id:"nonprofit", name:"Ø§Ù„Ù‚Ø·Ø§Ø¹ ØºÙŠØ± Ø§Ù„Ø±Ø¨Ø­ÙŠ", emoji:"ğŸ¤",
          tagline:"ÙˆØ¸Ø§Ø¦Ù ÙˆØªØ·ÙˆØ¹ØŒ ØªÙ…ÙˆÙŠÙ„ØŒ Ø¥Ø¯Ø§Ø±Ø© Ù…Ø´Ø§Ø±ÙŠØ¹ ÙˆÙ…Ø¤Ø´Ø±Ø§Øª.",
          value:["Ø¬Ø°Ø¨ Ø±Ø¹Ø§Ø© ÙˆÙ…Ù…ÙˆÙ„ÙŠÙ†","Ù„ÙˆØ­Ø§Øª Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø£Ø«Ø±","Ù†Ø´Ø± ÙØ±Øµ Ø§Ù„ØªØ·ÙˆØ¹"],
          services:[
            {title:"Ø§Ù„ÙØ±Øµ", items:[{title:"ÙˆØ¸Ø§Ø¦Ù"},{title:"ØªØ·ÙˆØ¹"},{title:"ØªØ¯Ø±ÙŠØ¨"}]},
            {title:"Ø§Ù„ØªÙ…ÙˆÙŠÙ„", items:[{title:"Ø±Ø¹Ø§ÙŠØ§Øª"},{title:"ØªØ¨Ø±Ø¹Ø§Øª"},{title:"Ø§Ø´ØªØ±Ø§ÙƒØ§Øª/Ø§Ø³ØªØ«Ù…Ø§Ø±"}]},
            {title:"Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹", items:[{title:"Ø¬Ø¯ÙˆÙ„ Ø²Ù…Ù†ÙŠ"},{title:"Ù…Ø¤Ø´Ø±Ø§Øª/ØªÙ‚Ø§Ø±ÙŠØ±"}]}
          ]
        },
        {
          id:"donor", name:"Ø§Ù„Ù…Ø§Ù†Ø­ÙˆÙ†", emoji:"ğŸ’œ",
          tagline:"Ø¨Ø­Ø« ÙØ±Øµ Ù…Ù†Ø­ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ±ØŒ Ù…Ø­ÙØ¸Ø© ÙˆØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø«Ø±.",
          value:["ØªØ®ØµÙŠØµ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ±","Ù…Ø­ÙØ¸Ø© Ù…Ù†Ø­ ÙˆØªØ¨Ø±Ø¹Ø§Øª","Ù…ÙˆØ§Ø¡Ù…Ø© Ù…Ø¹ Ø±Ø¤ÙŠØ© 2030"],
          services:[
            {title:"ÙØ±Øµ Ø§Ù„Ù…Ù†Ø­", items:[{title:"Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©/Ø§Ù„Ù‚Ø·Ø§Ø¹/Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬"}]},
            {title:"Ù…Ø­ÙØ¸ØªÙŠ", items:[{title:"Ø§Ù„ØªØ²Ø§Ù…Ø§Øª/Ù…Ø¯ÙÙˆØ¹Ø§Øª"},{title:"Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø£Ø«Ø±"}]},
            {title:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±", items:[{title:"Ù…ÙˆØ§Ø¡Ù…Ø© Ø±Ø¤ÙŠØ© 2030"}]}
          ]
        },
        {
          id:"university", name:"Ø§Ù„Ø¬Ø§Ù…Ø¹Ø§Øª", emoji:"ğŸ›ï¸",
          tagline:"ØªØ¹Ø²ÙŠØ² Ø¹Ù„Ù…ÙŠ Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ØŒ Ø´Ø±Ø§ÙƒØ§ØªØŒ ØªØ³ÙˆÙŠÙ‚ Ø¨Ø±Ø§Ù…Ø¬ ÙˆØ¨Ø­ÙˆØ«.",
          value:["Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ù…Ø­ÙƒÙ‘Ù…Ø©","Ø¹ÙˆØ§Ø¦Ø¯ Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù…ÙŠØ©","ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ ÙˆØ§Ù„Ø¨Ø­ÙˆØ«"],
          services:[
            {title:"Ø§Ù„ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø¹Ù„Ù…ÙŠ", items:[{title:"Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¬Ø¯ÙˆÙ‰"},{title:"Ø§Ø¹ØªÙ…Ø§Ø¯ Ù…Ø¤Ø´Ø±Ø§Øª"}]},
            {title:"Ø§Ù„Ø´Ø±Ø§ÙƒØ§Øª", items:[{title:"Ù…Ø¹ Ø§Ù„Ø¬Ù‡Ø§Øª ÙƒØ§ÙØ©"}]},
            {title:"Ø§Ù„ØªØ³ÙˆÙŠÙ‚ ÙˆØ§Ù„ØªÙ…ÙˆÙŠÙ„", items:[{title:"Ø¨Ø±Ø§Ù…Ø¬ ÙˆØ¨Ø­ÙˆØ«"}]}
          ]
        },
        {
          id:"government", name:"Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠØ©/Ø§Ù„Ø¥Ù…Ø§Ø±Ø©", emoji:"ğŸ›ï¸â€âš–ï¸",
          tagline:"Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„Ø£Ù‡Ø¯Ø§ÙØŒ Ø§Ø¹ØªÙ…Ø§Ø¯ ÙØ¹Ø§Ù„ÙŠØ§ØªØŒ Ø­Ù„ÙˆÙ„ ÙˆÙ„ÙˆØ­Ø§Øª Ù…Ø¤Ø´Ø±Ø§Øª.",
          value:["Ø±Ø¨Ø· Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ø¨Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©","Ø§Ø¹ØªÙ…Ø§Ø¯/Ø±ÙØ¶ ÙØ¹Ø§Ù„ÙŠØ§Øª","Ø·Ù„Ø¨/Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø­Ù„ÙˆÙ„"],
          services:[
            {title:"Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ø­ÙƒÙˆÙ…ÙŠØ©", items:[{title:"Ø±Ø¨Ø· Ø¨Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©/Ø§Ù„ÙØ±Ø¹ÙŠØ©/Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©"}]},
            {title:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª", items:[{title:"Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯"},{title:"Ø§Ù„Ø´Ø±Ø§ÙƒØ§Øª Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©"},{title:"Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†"}]},
            {title:"Ø­Ù„ÙˆÙ„", items:[{title:"Ø·Ù„Ø¨ Ø­Ù„ÙˆÙ„"},{title:"Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø­Ù„ÙˆÙ„"}]},
            {title:"Ù„ÙˆØ­Ø§Øª Ù…Ø¤Ø´Ø±Ø§Øª", items:[{title:"Ø¨Ø±Ø§Ù…Ø¬ Ù…Ø¯Ø¹ÙˆÙ…Ø©"},{title:"Ø´Ø±ÙƒØ§Øª Ù…Ø³Ø§Ù‡Ù…Ø©"},{title:"Ø¹Ø¯Ø¯ Ù…Ø³ØªÙÙŠØ¯ÙŠÙ†"}]}
          ]
        }
      ],
      partners:[
        { name:"Ø¥Ù…Ø§Ø±Ø© Ù…Ù†Ø·Ù‚Ø© Ø­Ø§Ø¦Ù„", type:"Ø­ÙƒÙˆÙ…ÙŠ", region:"Ø­Ø§Ø¦Ù„", programs:["ØªØ¹Ø²ÙŠØ² ÙØ§Ø¹Ù„ÙŠØ© Ø§Ù„Ø­ÙƒÙˆÙ…Ø©","ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©"] },
        { name:"ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª", type:"Ø­ÙƒÙˆÙ…ÙŠ", region:"Ø§Ù„Ø±ÙŠØ§Ø¶", programs:["ØªØ¹Ø²ÙŠØ² ÙØ§Ø¹Ù„ÙŠØ© Ø§Ù„Ø­ÙƒÙˆÙ…Ø©","ØªÙ†Ù…ÙŠØ© ÙˆØªÙ†ÙˆÙŠØ¹ Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯"] },
        { name:"Ø¬Ø§Ù…Ø¹Ø© Ø­Ø§Ø¦Ù„", type:"Ø¬Ø§Ù…Ø¹Ø©", region:"Ø­Ø§Ø¦Ù„", programs:["ØªÙ…ÙƒÙŠÙ† Ø­ÙŠØ§Ø© Ø¹Ø§Ù…Ø±Ø© ÙˆØµØ­ÙŠØ©","ØªÙ†Ù…ÙŠØ© ÙˆØªÙ†ÙˆÙŠØ¹ Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯"] },
        { name:"ØºØ±ÙØ© Ø­Ø§Ø¦Ù„", type:"Ø®Ø§Øµ", region:"Ø­Ø§Ø¦Ù„", programs:["ØªÙ†Ù…ÙŠØ© ÙˆØªÙ†ÙˆÙŠØ¹ Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯","ØªØ¹Ø²ÙŠØ² Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ©"] },
        { name:"Ø¬Ù…Ø¹ÙŠØ© Ù…Ù†Ø§Ø± Ø§Ù„ØµØ­ÙŠØ©", type:"ØºÙŠØ± Ø±Ø¨Ø­ÙŠ", region:"Ø§Ù„Ø´Ø±Ù‚ÙŠØ©", programs:["ØªÙ…ÙƒÙŠÙ† Ø­ÙŠØ§Ø© Ø¹Ø§Ù…Ø±Ø© ÙˆØµØ­ÙŠØ©"] },
        { name:"Ø´Ø±ÙƒØ© ØªØ³Ø¬ÙŠÙ„ (Ø³Ø¬Ù„Ù‡Ø§ ERP)", type:"Ø®Ø§Øµ", region:"Ø§Ù„Ø±ÙŠØ§Ø¶", programs:["ØªØ¹Ø²ÙŠØ² ÙØ§Ø¹Ù„ÙŠØ© Ø§Ù„Ø­ÙƒÙˆÙ…Ø©"] }
      ]
    };

    /* ===== Ø£Ø¯ÙˆØ§Øª Ø¹Ø§Ù…Ø© ===== */
    const $ = (s, r=document)=>r.querySelector(s);
    const $$ = (s, r=document)=>[...r.querySelectorAll(s)];
    const escapeHTML = s=>s.replace(/[&<>"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[m]));
    const relativeDate = (d=new Date())=>new Intl.DateTimeFormat('ar-SA',{dateStyle:'medium'}).format(d);

    function setActiveTopTab(){
      const hash = location.hash || "#/home";
      $$(".tab").forEach(t=>{
        const on = (t.dataset.link===hash) || (hash.startsWith("#/account/") && t.dataset.link==="#/accounts");
        t.classList.toggle("active", on);
      });
    }

    /* ===== Ù…Ø±ÙƒØ¨Ø§Øª ÙˆØ§Ø¬Ù‡Ø© ===== */
    const KPIGrid = () => `
      <div class="grid cols-4">
        <div class="kpi"><div class="muted">Ù…Ø³ØªÙÙŠØ¯ÙˆÙ†</div><b>${DATA.kpis.beneficiaries}+</b></div>
        <div class="kpi"><div class="muted">Ø¨Ø±Ø§Ù…Ø¬ Ø±Ø¤ÙŠØ©</div><b>${DATA.kpis.programs}</b></div>
        <div class="kpi"><div class="muted">Ø£Ù‡Ø¯Ø§Ù ØªÙØµÙŠÙ„ÙŠØ©</div><b>${DATA.kpis.goals}</b></div>
        <div class="kpi"><div class="muted">Ø£Ù‡Ø¯Ø§Ù ÙØ±Ø¹ÙŠØ©</div><b>${DATA.kpis.subgoals}</b></div>
      </div>
    `;
    const VisionChips = () => `<div class="vis2030">${DATA.vision2030.map(g=>`<span class="goal">ğŸ¯ ${g}</span>`).join("")}</div>`;

    function Accordion(items){
      return items.map(it=>`
        <div class="acc" data-acc>
          <div class="acc-h" role="button" aria-expanded="false">
            <span>${escapeHTML(it.title)}</span><span class="muted">â–¼</span>
          </div>
          <div class="acc-c">${it.content||""}</div>
        </div>`).join("");
    }

    function NestedList(nodes, depth=1){
      if(!nodes) return "";
      return `<ul style="margin:6px 0 6px ${depth*12}px; list-style:none; padding:0">
        ${nodes.map(n=>`<li style="margin:6px 0">â–ªï¸ ${escapeHTML(n.title)}${n.children?NestedList(n.children, depth+1):""}</li>`).join("")}
      </ul>`;
    }

    function ServicesAccordion(svcs){
      const accItems = svcs.map(s=>({title:"ğŸ§© "+s.title, content: s.items?.length? NestedList(s.items):"<div class='muted'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ±</div>"}));
      return Accordion(accItems);
    }

    /* ===== Ø§Ù„ØµÙØ­Ø§Øª ===== */
    function HomePage(){
      return `
        <section class="grid cols-2">
          <div class="card">
            <div class="h">
              <h3>Ù…Ù†ØµØ© Ù†Ù…Ùˆ NOMU</h3>
              <span class="chip">Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${relativeDate()}</span>
            </div>
            <p class="muted">Ù…Ù†ØµØ© ÙˆØ·Ù†ÙŠØ© Ù„ØªÙ…ÙƒÙŠÙ† Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠØ© ÙˆØ§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø®Ø§Øµ ÙˆØ§Ù„Ù‚Ø·Ø§Ø¹ ØºÙŠØ± Ø§Ù„Ø±Ø¨Ø­ÙŠ ÙˆØ§Ù„Ø¬Ø§Ù…Ø¹Ø§Øª ÙˆØ§Ù„Ø£ÙØ±Ø§Ø¯ØŒ Ø¹Ø¨Ø± Ø£Ø¯ÙˆØ§Øª Ø¹Ù„Ù…ÙŠØ© ÙˆØªÙ†ÙÙŠØ°ÙŠØ© ØªØ³Ø±Ù‘Ø¹ ØªØ­Ù‚ÙŠÙ‚ Ù…Ø³ØªÙ‡Ø¯ÙØ§Øª Ø±Ø¤ÙŠØ© 2030.</p>
            <div class="divider"></div>
            ${VisionChips()}
            <div class="divider"></div>
            ${KPIGrid()}
            <div class="divider"></div>
            <div class="row">
              <a class="primary-btn" href="#/journey">Ø§Ø³ØªÙƒØ´Ù Ø±Ø­Ù„Ø© NOMU</a>
              <a class="tab" href="#/accounts">Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</a>
              <span class="pill">Ù†Ø³Ø®Ø© MVPLAB</span>
            </div>
          </div>
          <div class="card">
            <h3>Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h3>
            <div class="grid">
              <a class="tab" href="#/account/individual">ğŸ‘¤ Ø§Ù„Ø£ÙØ±Ø§Ø¯</a>
              <a class="tab" href="#/account/private">ğŸ¢ Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø®Ø§Øµ</a>
              <a class="tab" href="#/account/nonprofit">ğŸ¤ ØºÙŠØ± Ø§Ù„Ø±Ø¨Ø­ÙŠ</a>
              <a class="tab" href="#/account/donor">ğŸ’œ Ø§Ù„Ù…Ø§Ù†Ø­ÙˆÙ†</a>
              <a class="tab" href="#/account/university">ğŸ›ï¸ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø§Øª</a>
              <a class="tab" href="#/account/government">ğŸ›ï¸â€âš–ï¸ Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠØ©</a>
            </div>
            <div class="divider"></div>
            <div class="note"><b>Ù…Ø¹Ù„ÙˆÙ…Ø©:</b> ØªØ±Ø¨Ø· NOMU Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¨Ø£Ù‡Ø¯Ø§Ù Ø±Ø¤ÙŠØ© 2030 (Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© â† ÙØ±Ø¹ÙŠØ© â† ØªÙØµÙŠÙ„ÙŠØ©) Ù…Ø¹ ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ†.</div>
          </div>
        </section>
      `;
    }

    function JourneyPage(){
      const steps = [
        {t:"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨",d:"ØªØ³Ø¬ÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ù„Ø£ÙØ±Ø§Ø¯ Ø£Ùˆ Ø§Ù„Ø¬Ù‡Ø§Øª."},
        {t:"Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¯ÙˆØ±",d:"ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨ (Ø¬Ù‡Ø© Ø­ÙƒÙˆÙ…ÙŠØ©ØŒ Ø¬Ø§Ù…Ø¹Ø©ØŒ Ø®Ø§ØµØŒ ØºÙŠØ± Ø±Ø¨Ø­ÙŠØŒ ÙØ±Ø¯)."},
        {t:"Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©/Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬",d:"Ù†Ù…Ø°Ø¬Ø© Ø¨Ø§Ù„Ù„Ø¨Ù†Ø§Øª Ø§Ù„ØªØ³Ø¹ ÙˆØ±Ø¨Ø· Ø¨Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬."},
        {t:"Ø§Ù„ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø¹Ù„Ù…ÙŠ",d:"Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…Ø­ÙƒÙ‘Ù…Ø© Ø¹Ø¨Ø± Ø§Ù„Ø¬Ø§Ù…Ø¹Ø§Øª ÙˆØ§Ø¹ØªÙ…Ø§Ø¯ Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡."},
        {t:"Ø§Ù„ØªÙ…ÙˆÙŠÙ„/Ø§Ù„Ø±Ø¹Ø§ÙŠØ©",d:"Ù…Ø·Ø§Ø¨Ù‚Ø© Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù…Ø§Ù†Ø­ÙŠÙ† ÙˆØ§Ù„Ø±Ø¹Ø§Ø© ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª."},
        {t:"Ø§Ù„ØªÙ†ÙÙŠØ° ÙˆØ§Ù„Ù…ØªØ§Ø¨Ø¹Ø©",d:"Ø¬Ø¯ÙˆÙ„Ø©ØŒ Ù…Ù‡Ø§Ù…ØŒ ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…Ø®Ø§Ø·Ø±."},
        {t:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø´ÙØ§ÙÙŠØ©",d:"ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø«Ø±ØŒ ÙÙˆØ§ØªÙŠØ± ÙˆØ¥Ø«Ø¨Ø§ØªØ§ØªØŒ ÙˆØ±Ø¨Ø· Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ø´Ø±ÙŠÙƒØ©."}
      ];
      return `
        <section class="grid">
          <div class="card">
            <div class="h">
              <h3>Ø±Ø­Ù„Ø© NOMU</h3>
              <span class="chip">7 Ù…Ø±Ø§Ø­Ù„</span>
            </div>
            <div class="divider"></div>
            <div class="grid">
              ${steps.map((s,i)=>`
                <div class="acc open">
                  <div class="acc-h"><b>Ø§Ù„Ù…Ø±Ø­Ù„Ø© ${i+1} â€” ${escapeHTML(s.t)}</b><span class="muted">â–¼</span></div>
                  <div class="acc-c"><p class="muted">${escapeHTML(s.d)}</p></div>
                </div>
              `).join("")}
            </div>
            <div class="divider"></div>
            <div class="row">
              <a class="primary-btn" href="#/start">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ø­Ù„Ø©</a>
              <a class="tab" href="#/accounts">Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</a>
            </div>
          </div>
        </section>
      `;
    }

    function AccountsPage(){
      return `
        <section class="grid cols-3">
          ${DATA.accounts.map(acc=>`
            <div class="card">
              <div class="h">
                <h3>${acc.emoji} ${acc.name}</h3>
                <span class="chip">ID: ${acc.id}</span>
              </div>
              <p class="muted">${acc.tagline}</p>
              <div class="divider"></div>
              <div class="row">${acc.value.slice(0,3).map(v=>`<span class="pill">${escapeHTML(v)}</span>`).join("")}</div>
              <div class="divider"></div>
              <a class="primary-btn" href="#/account/${acc.id}">ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨</a>
            </div>
          `).join("")}
        </section>
      `;
    }

    function AccountDetailPage(id){
      const acc = DATA.accounts.find(a=>a.id===id);
      if(!acc) return `<div class="card"><h3>Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</h3><a class="tab" href="#/accounts">Ø¹ÙˆØ¯Ø©</a></div>`;
      return `
        <section class="grid">
          <div class="card">
            <div class="h">
              <h3>${acc.emoji} ${acc.name}</h3>
              <a class="tab" href="#/accounts">Ø¹ÙˆØ¯Ø©</a>
            </div>
            <div class="tabs" data-tabs>
              <button class="t active" data-tab="overview">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</button>
              <button class="t" data-tab="services">Ø§Ù„Ø®Ø¯Ù…Ø§Øª</button>
              <button class="t" data-tab="value">Ø§Ù„Ù‚ÙŠÙ…Ø©</button>
            </div>
            <div class="tab-panel active" data-panel="overview">
              <p class="muted">${acc.tagline}</p>
              <div class="divider"></div>
              ${VisionChips()}
              <div class="divider"></div>
              <div class="row"><span class="pill">Ø­ÙˆÙƒÙ…Ø© ÙˆØ´ÙØ§ÙÙŠØ©</span><span class="pill">Ù…Ø¤Ø´Ø±Ø§Øª Ø£Ø¯Ø§Ø¡</span><span class="pill">ØªÙƒØ§Ù…Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù‚Ø·Ø§Ø¹Ø§Øª</span></div>
            </div>
            <div class="tab-panel" data-panel="services">${ServicesAccordion(acc.services)}</div>
            <div class="tab-panel" data-panel="value">
              <div class="grid cols-2">
                ${acc.value.map(v=>`<div class="kpi"><div class="muted">Ù‚ÙŠÙ…Ø©</div><b>${escapeHTML(v)}</b></div>`).join("")}
              </div>
            </div>
          </div>
        </section>
      `;
    }

    function DirectoryPage(){
      const types = ["Ø§Ù„ÙƒÙ„","Ø­ÙƒÙˆÙ…ÙŠ","Ø®Ø§Øµ","ØºÙŠØ± Ø±Ø¨Ø­ÙŠ","Ø¬Ø§Ù…Ø¹Ø©"];
      const regions = ["Ø§Ù„ÙƒÙ„","Ø­Ø§Ø¦Ù„","Ø§Ù„Ø±ÙŠØ§Ø¶","Ø§Ù„Ø´Ø±Ù‚ÙŠØ©","Ù…ÙƒØ©","Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©","Ø§Ù„Ù‚ØµÙŠÙ…","Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©","Ø¹Ø³ÙŠØ±","Ø§Ù„Ø¨Ø§Ø­Ø©","Ø¬Ø§Ø²Ø§Ù†","Ù†Ø¬Ø±Ø§Ù†","ØªØ¨ÙˆÙƒ","Ø§Ù„Ø¬ÙˆÙ"];
      return `
        <section class="grid">
          <div class="card">
            <div class="h"><h3>Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„ÙˆØ·Ù†ÙŠ Ù„Ù„Ø´Ø±ÙƒØ§Ø¡ (NOMU)</h3><span class="chip">Ø¹Ù†Ø§ØµØ±: ${DATA.partners.length}</span></div>
            <div class="row" style="gap:8px; flex-wrap:wrap">
              <input class="input" id="q" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…..." />
              <select id="type">${types.map(t=>`<option>${t}</option>`).join("")}</select>
              <select id="region">${regions.map(r=>`<option>${r}</option>`).join("")}</select>
              <button class="tab" id="reset">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
            </div>
            <div class="divider"></div>
            <div id="plist"></div>
          </div>
        </section>
      `;
    }

    function AboutPage(){
      return `
        <section class="grid cols-2">
          <div class="card">
            <h3>Ø¹Ù† NOMU</h3>
            <p class="muted">ØªÙ… ØªØ·ÙˆÙŠØ± Ù…Ù†ØµØ© Ù†Ù…Ùˆ Ø¹Ù„Ù‰ Ù…Ø¯Ù‰ Ø³Ù†ØªÙŠÙ† ÙƒÙ†Ø¸Ø§Ù… ÙˆØ·Ù†ÙŠ ÙŠØ¯Ø¹Ù… Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù‚Ø·Ø§Ø¹Ø§Øª ÙˆÙŠØ¹Ø²Ø² Ø§Ù„Ø´ÙØ§ÙÙŠØ© ÙˆØ±ÙØ¹ Ø§Ù„Ø£Ø«Ø±ØŒ Ù…Ø¹ Ø±Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¨Ø£Ù‡Ø¯Ø§Ù Ø±Ø¤ÙŠØ© 2030 ÙˆØªØªØ¨Ø¹ Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª.</p>
            <div class="divider"></div>
            ${VisionChips()}
            <div class="divider"></div>
            <div class="note">Ù‡Ø°Ù‡ Ù†Ø³Ø®Ø© Ø¹Ø±Ø¶. ÙŠÙ…ÙƒÙ† Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¯Ù…Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ Ø§Ù„Ù…Ø­Ø§ÙØ¸ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©ØŒ ÙˆØ±Ø¨Ø· API Ù„Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©.</div>
          </div>
          <div class="card">
            <h3>ØªÙˆØ§ØµÙ„</h3>
            <ul>
              <li>Ø´Ø±Ø§ÙƒØ§Øª ÙˆØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¬Ù‡Ø§Øª</li>
              <li>Ø±Ø¹Ø§ÙŠØ§Øª ÙˆÙ…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©</li>
              <li>ØªØ¹Ø²ÙŠØ² Ø¹Ù„Ù…ÙŠ Ø¹Ø¨Ø± Ø§Ù„Ø¬Ø§Ù…Ø¹Ø§Øª</li>
            </ul>
            <div class="divider"></div>
            <p class="muted">* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø³ØªÙØ¶Ø§Ù Ù„Ø§Ø­Ù‚Ù‹Ø§.</p>
          </div>
        </section>
      `;
    }

    function StartPage(){
      return `
        <section class="grid">
          <div class="card">
            <h3>Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</h3>
            <p class="muted">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„Ø¨Ø¯Ø¡ Ø±Ø­Ù„ØªÙƒ Ø¯Ø§Ø®Ù„ NOMU.</p>
            <div class="divider"></div>
            <div class="grid cols-3">
              ${DATA.accounts.map(a=>`<a class="tab" href="#/account/${a.id}">${a.emoji} ${a.name}</a>`).join("")}
            </div>
          </div>
        </section>
      `;
    }

    /* ===== Router + Delegated Events (Ø§Ù„Ø¥ØµÙ„Ø§Ø­) ===== */
    (function RouterAndEvents(){
      const Router = (()=> {
        const routes = {
          "/home":      () => HomePage(),
          "/journey":   () => JourneyPage(),
          "/accounts":  () => AccountsPage(),
          "/directory": () => DirectoryPage(),
          "/about":     () => AboutPage(),
          "/start":     () => StartPage()
        };
        function parse(){
          const h = (location.hash || "#/home").replace(/^#/, "");
          const parts = h.split("/").filter(Boolean);
          if (parts[0]==="account") return { path:"/account", param: parts[1] || null };
          return { path: "/" + (parts[0] || "home"), param:null };
        }
        function render(){
          const {path, param} = parse();
          setActiveTopTab();
          const app = $("#app");
          if (path==="/account"){ app.innerHTML = AccountDetailPage(param); return; }
          const view = routes[path] || routes["/home"];
          app.innerHTML = view();
          if (path==="/directory") afterRenderDirectory();
        }
        return { render };
      })();

      /* ØªÙÙˆÙŠØ¶ Ø£Ø­Ø¯Ø§Ø« Ø¹Ø§Ù… */
      document.addEventListener("click", (e)=>{
        // Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù„ÙŠØ§
        const link = e.target.closest("[data-link]");
        if (link){ e.preventDefault(); location.hash = link.dataset.link; return; }

        // ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø¯Ø§Ø®Ù„ÙŠØ©
        const tabBtn = e.target.closest("[data-tabs] .t");
        if (tabBtn){
          const tabsContainer = tabBtn.closest("[data-tabs]");
          const root = tabsContainer.parentElement;
          const name = tabBtn.dataset.tab;
          $$(".t", tabsContainer).forEach(x=>x.classList.toggle("active", x===tabBtn));
          $$(".tab-panel", root).forEach(p=>p.classList.toggle("active", p.dataset.panel===name));
          return;
        }

        // Ø£ÙƒÙˆØ±Ø¯ÙŠÙˆÙ†
        const head = e.target.closest(".acc .acc-h");
        if (head){
          const acc = head.closest(".acc");
          const open = acc.classList.toggle("open");
          head.setAttribute("aria-expanded", open?"true":"false");
        }
      });

      /* Ø§Ù„Ø¯Ù„ÙŠÙ„: Ø±Ø¨Ø· Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¹Ù†Ø¯ Ø¸Ù‡ÙˆØ± Ø§Ù„ØµÙØ­Ø© */
      function afterRenderDirectory(){
        const list   = $("#plist");
        const q      = $("#q");
        const type   = $("#type");
        const region = $("#region");
        const reset  = $("#reset");
        if (!list || !q || !type || !region || !reset) return;

        function draw(items){
          list.innerHTML = items.length ? `
            <div class="grid cols-2">
              ${items.map(p=>`
                <div class="card">
                  <div class="h"><h3>${escapeHTML(p.name||"")}</h3><span class="chip">${p.type} â€¢ ${p.region}</span></div>
                  <div class="row">${(p.programs||[]).map(pr=>`<span class="pill">ğŸ¯ ${escapeHTML(pr)}</span>`).join("")}</div>
                </div>`).join("")}
            </div>` : `<div class="note">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø©.</div>`;
        }
        function apply(){
          const query=q.value.trim().toLowerCase(), ty=type.value, rg=region.value;
          let items=DATA.partners.slice();
          if(query) items=items.filter(p=>(p.name||"").toLowerCase().includes(query));
          if(ty!=="Ø§Ù„ÙƒÙ„") items=items.filter(p=>p.type===ty);
          if(rg!=="Ø§Ù„ÙƒÙ„") items=items.filter(p=>p.region===rg);
          draw(items);
        }
        q.addEventListener("input", apply, {passive:true});
        type.addEventListener("input", apply, {passive:true});
        region.addEventListener("input", apply, {passive:true});
        reset.addEventListener("click", ()=>{ q.value=""; type.value="Ø§Ù„ÙƒÙ„"; region.value="Ø§Ù„ÙƒÙ„"; apply(); });
        draw(DATA.partners);
      }

      /* ØªØ´ØºÙŠÙ„ */
      window.addEventListener("hashchange", Router.render);
      window.addEventListener("load", ()=>{
        const y = document.getElementById("year");
        if (y) y.textContent = new Date().getFullYear();
        $$(".tab[data-link]").forEach(el=>el.addEventListener("click",(e)=>{e.preventDefault(); location.hash = el.dataset.link;}));
        Router.render();
      });
    })();
  </script>
</body>
</html>
